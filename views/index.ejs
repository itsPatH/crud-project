<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Library Management</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <style>
    .container {
      max-width: 960px;
    }
  </style>
</head>
<body>
<div class="container">
  <div class="shadow-lg p-3 mb-5 bg-body rounded">
    <h4>Datos del Libro</h4>
    <form action="/create" method="POST">
      <div class="col-md-6 mb-3">
        <label for="title" class="form-label">Título</label>
        <input id="title" name="title" type="text" class="form-control" required>
      </div>
      <div class="col-md-6 mb-3">
        <label for="author" class="form-label">Autor</label>
        <input id="author" name="author" type="text" class="form-control" required>
      </div>
      <div class="col-md-6 mb-3">
        <label for="year" class="form-label">Año</label>
        <input id="year" name="year" type="number" class="form-control" required>
      </div>
      <div class="col-md-6 mb-3">
        <label for="genre" class="form-label">Género</label>
        <input id="genre" name="genre" type="text" class="form-control">
      </div>
      <div class="col-md-6 mb-3">
        <label for="rating" class="form-label">Puntuación</label>
        <input id="rating" name="rating" type="number" step="0.1" class="form-control">
      </div>
      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="availability" name="availability">
        <label class="form-check-label" for="availability">Disponible</label>
      </div>
      <button type="submit" class="w-100 btn btn-primary btn-lg">
        <i class="bi bi-save"></i> Registrar Libro
      </button>
    </form>

    <!-- Tabla Libros -->
    <table class="table mt-4">
      <thead>
      <tr>
        <th style="display: none;">ID</th>
        <th>Título</th>
        <th>Autor</th>
        <th>Año</th>
        <th>Género</th>
        <th>Puntuación</th>
        <th>Disponible</th>
        <th>Acciones</th>
      </tr>
      </thead>
      <tbody>
      <% books.forEach((book) => { %>
        <tr>
          <td style="display: none;"><%= book._id %></td>
          <td><%= book.title %></td>
          <td><%= book.author %></td>
          <td><%= book.year %></td>
          <td><%= book.genre %></td>
          <td><%= book.rating %></td>
          <td>
            <% if (book.availability) { %>
              <span class="badge bg-success">Sí</span>
            <% } else { %>
              <span class="badge bg-danger">No</span>
            <% } %>
          </td>
          <td>
            <a type="button" class="btnEditar btn btn-outline-primary bi bi-pencil"></a>
            <a href="/borrar/<%= book._id %>" class="btn btn-outline-danger bi bi-trash"></a>
          </td>
        </tr>
      <% }) %>
      </tbody>
    </table>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/code.js"></script>
</body>
</html>